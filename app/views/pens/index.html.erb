<p id="notice"><%= notice %></p>

<div class='row'>
  <div class='col-md-12 space-between' style="display: flex;
    justify-content: space-between;">
    <h1>Pens</h1>
    <div>
      <%= link_to new_pen_path, class: "btn btn-success" do |x| %>
        Create Pen <span class="ml-2"><%= fa_icon "plus"%></span>
      <% end %>

    </div>

  </div>
</div>
<hr>

<div class="row">
  <div class="col-md-12">

    <table class="table table-striped table-bordered text-center">
      <thead class="table-light">
        <tr>
          <th>Name</th>
          <th>Lease</th>
          <th>Latitude</th>
          <th>Longitude</th>
        </tr>
      </thead>

      <tbody>
        <% @pens.each do |pen| %>
          <tr>
            <td><%= link_to pen.name, pen %></td>
            <td><%= link_to pen.lease.name, pen.lease %></td>
            <td><%= pen.latitude %></td>
            <td><%= pen.longitude %></td>

            <td class="action-td">
              <div class="btn-group">
                <%= link_to pen do %>
                <button type="button" class="btn btn-primary">
                  View
                </button>
                <% end %>

                <button type="button" class="btn btn-primary dropdown-toggle dropdown-toggle-split" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                  <span class="sr-only">Toggle Dropdown</span>
                </button>
                <div class="dropdown-menu">


                  <%= link_to 'Edit', edit_pen_path(pen), class: "dropdown-item" %>

                  <div class="dropdown-divider"></div>
                  <%= link_to pen, method: :delete,  data: { confirm: 'Are you sure?' }, class: "dropdown-item" do |x| %>
                    <span class="trash-icon mr-2">Delete</span><span class="trash-icon mr-2"><%= fa_icon "trash"%></span>
                  <% end %>
                </div>
              </div>
            </td>

          </tr>
        <% end %>
      </tbody>
    </table>

  </div>
</div>

<br>




<script>
  // Initialize and add the map
  function initMap() {
  var uluru = {lat: -25.344, lng: 131.036};
  var uluru_2 = {lat: -22.344, lng: 119.036};
  // The map, centered at Uluru
  var map = new google.maps.Map(
  document.getElementById('map'), {zoom: 4, center: uluru});
  // The marker, positioned at Uluru
  var markers = new google.maps.Marker({position: uluru_2, map: map});
  var marker = new google.maps.Marker({position: uluru, map: map});
  }
</script>
